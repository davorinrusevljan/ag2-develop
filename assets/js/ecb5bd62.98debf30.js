"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[69230],{49329:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var o=i(85893),s=i(11151);const r={},t="Docker",a={id:"installation/Docker",title:"Docker",description:"Docker, an indispensable tool in modern software development, offers a compelling solution for AG2's setup. Docker allows you to create consistent environments that are portable and isolated from the host OS. With Docker, everything AG2 needs to run, from the operating system to specific libraries, is encapsulated in a container, ensuring uniform functionality across different systems. The Dockerfiles necessary for AG2 are conveniently located in the project's GitHub repository at https://github.com/ag2ai/ag2/tree/main/.devcontainer.",source:"@site/docs/installation/Docker.md",sourceDirName:"installation",slug:"/installation/Docker",permalink:"/ag2/docs/installation/Docker",draft:!1,unlisted:!1,editUrl:"https://github.com/ag2ai/ag2/edit/main/website/docs/installation/Docker.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Installation",permalink:"/ag2/docs/installation/"},next:{title:"Optional Dependencies",permalink:"/ag2/docs/installation/Optional-Dependencies"}},c={},l=[{value:"Step 1: Install Docker",id:"step-1-install-docker",level:2},{value:"Step 2: Build a Docker Image",id:"step-2-build-a-docker-image",level:2},{value:"Step 3: Run AG2 Applications from Docker Image",id:"step-3-run-ag2-applications-from-docker-image",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"docker",children:"Docker"}),"\n",(0,o.jsxs)(n.p,{children:["Docker, an indispensable tool in modern software development, offers a compelling solution for AG2's setup. Docker allows you to create consistent environments that are portable and isolated from the host OS. With Docker, everything AG2 needs to run, from the operating system to specific libraries, is encapsulated in a container, ensuring uniform functionality across different systems. The Dockerfiles necessary for AG2 are conveniently located in the project's GitHub repository at ",(0,o.jsx)(n.a,{href:"https://github.com/ag2ai/ag2/tree/main/.devcontainer",children:"https://github.com/ag2ai/ag2/tree/main/.devcontainer"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Pre-configured DockerFiles"}),": The AG2 Project offers pre-configured Dockerfiles for your use. These Dockerfiles will run as is, however they can be modified to suit your development needs. Please see the README.md file in autogen/.devcontainer"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"ag2_base_img"}),": For a basic setup, you can use the ",(0,o.jsx)(n.code,{children:"ag2_base_img"})," to run simple scripts or applications. This is ideal for general users or those new to AG2."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"ag2_full_img"}),": Advanced users or those requiring more features can use ",(0,o.jsx)(n.code,{children:"ag2_full_img"}),". Be aware that this version loads ALL THE THINGS and thus is very large. Take this into consideration if you build your application off of it."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"step-1-install-docker",children:"Step 1: Install Docker"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"General Installation"}),": Follow the ",(0,o.jsx)(n.a,{href:"https://docs.docker.com/get-docker/",children:"official Docker installation instructions"}),". This is your first step towards a containerized environment, ensuring a consistent and isolated workspace for AG2."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"For Mac Users"}),": If you encounter issues with the Docker daemon, consider using ",(0,o.jsx)(n.a,{href:"https://smallsharpsoftwaretools.com/tutorials/use-colima-to-run-docker-containers-on-macos/",children:"colima"}),". Colima offers a lightweight alternative to manage Docker containers efficiently on macOS."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"step-2-build-a-docker-image",children:"Step 2: Build a Docker Image"}),"\n",(0,o.jsx)(n.p,{children:"AG2 now provides updated Dockerfiles tailored for different needs. Building a Docker image is akin to setting the foundation for your project's environment:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"AG2 Basic"}),": Ideal for general use, this setup includes common Python libraries and essential dependencies. Perfect for those just starting with AG2."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker build -f .devcontainer/Dockerfile -t ag2_base_img https://github.com/ag2ai/ag2.git#main\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"AG2 Advanced"}),": Advanced users or those requiring all the things that AG2 has to offer ",(0,o.jsx)(n.code,{children:"ag2_full_img"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker build -f .devcontainer/full/Dockerfile -t ag2_full_img https://github.com/ag2ai/ag2.git#main\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"step-3-run-ag2-applications-from-docker-image",children:"Step 3: Run AG2 Applications from Docker Image"}),"\n",(0,o.jsx)(n.p,{children:"Here's how you can run an application built with AG2, using the Docker image:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Mount Your Directory"}),": Use the Docker ",(0,o.jsx)(n.code,{children:"-v"})," flag to mount your local application directory to the Docker container. This allows you to develop on your local machine while running the code in a consistent Docker environment. For example:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run -it -v $(pwd)/myapp:/home/ag2ai/ag2/myapp ag2_base_img:latest python /home/ag2ai/ag2/myapp/main.py\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Here, ",(0,o.jsx)(n.code,{children:"$(pwd)/myapp"})," is your local directory, and ",(0,o.jsx)(n.code,{children:"/home/ag2ai/ag2/myapp"})," is the path in the Docker container where your code will be located."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Mount your code:"})," Now suppose you have your application built with AG2 in a main script named ",(0,o.jsx)(n.code,{children:"twoagent.py"})," (",(0,o.jsx)(n.a,{href:"https://github.com/ag2ai/ag2/blob/main/test/twoagent.py",children:"example"}),") in a folder named ",(0,o.jsx)(n.code,{children:"myapp"}),". With the command line below, you can mount your folder and run the application in Docker."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'# Mount the local folder `myapp` into docker image and run the script named "twoagent.py" in the docker.\ndocker run -it -v `pwd`/myapp:/myapp ag2_base_img:latest python /myapp/main_twoagent.py\n'})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Port Mapping"}),": If your application requires a specific port, use the ",(0,o.jsx)(n.code,{children:"-p"})," flag to map the container's port to your host. For instance, if your app runs on port 3000 inside Docker and you want it accessible on port 8080 on your host machine:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run -it -p 8080:3000 -v $(pwd)/myapp:/myapp ag2_base_img:latest python /myapp\n"})}),"\n",(0,o.jsxs)(n.p,{children:["In this command, ",(0,o.jsx)(n.code,{children:"-p 8080:3000"})," maps port 3000 from the container to port 8080 on your local machine."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Examples of Running Different Applications"}),": Here is the basic format of the docker run command."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run -it -p {WorkstationPortNum}:{DockerPortNum} -v {WorkStation_Dir}:{Docker_DIR} {name_of_the_image} {bash/python} {Docker_path_to_script_to_execute}\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.em,{children:"Simple Script"}),": Run a Python script located in your local ",(0,o.jsx)(n.code,{children:"myapp"})," directory."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run -it -v `pwd`/myapp:/myapp ag2_base_img:latest python /myapp/my_script.py\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.em,{children:"Web Application"}),": If your application includes a web server running on port 5000."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run -it -p 8080:5000 -v $(pwd)/myapp:/myapp ag2_base_img:latest\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.em,{children:"Data Processing"}),": For tasks that involve processing data stored in a local directory."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run -it -v $(pwd)/data:/data ag2_base_img:latest python /myapp/process_data.py\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Details on all the Dockerfile options can be found in the ",(0,o.jsx)(n.a,{href:"https://github.com/ag2ai/ag2/blob/main/.devcontainer/README.md",children:"Dockerfile"})," README."]}),"\n",(0,o.jsxs)(n.li,{children:["For more information on Docker usage and best practices, refer to the ",(0,o.jsx)(n.a,{href:"https://docs.docker.com",children:"official Docker documentation"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Details on how to use the Dockerfile dev version can be found on the ",(0,o.jsx)(n.a,{href:"/docs/contributor-guide/docker",children:"Contributor Guide"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>t});var o=i(67294);const s={},r=o.createContext(s);function t(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);